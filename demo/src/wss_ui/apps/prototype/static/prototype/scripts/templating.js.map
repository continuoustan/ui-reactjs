{"version":3,"sources":["templating.js"],"names":["fill_data_list","selector","base","$","undefined","find","each","i","e","el","fill_data_list_el","fill_data","tablesorter","base_c","tm","children","first","temp_mode","data","length","c","l","eval","debug","console","log","empty","vi","f","clone","removeClass","ii","ie","it","fm","vn","ic","ig","indexOf","ics","split","igs","ici","lvn","v","addClass","attr","text","append","ttm","t","g","hide_hidables","setTimeout","statuswidgets"],"mappings":"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","file":"templating.js","sourcesContent":["\nfunction fill_data_list(selector){\n    var base = $(\".fill-data-list\");\n    if (selector !== undefined)\n        base = $(selector).find(\".fill-data-list\");\n    base.each(function(i,e){\n        var el = $(e);\n        fill_data_list_el(el,\"\");\n    });\n    fill_data();\n    \n    $(\"table\").tablesorter();\n}\n\nfunction fill_data_list_el(el, base_c){\n    var tm = el.children(\".template\").first();\n    var temp_mode = el.data(\"list\");\n    if(tm.length > 0){\n        var c = el.data(\"content\");\n        var l = eval(base_c+c);\n        if (debug)console.log(c,l);\n        el.empty();\n        for (var vi in l){\n            var f = tm.clone(true,true).removeClass(\"template\");\n            $(f).find(\".fill-data-list-item\").each(function(ii,ie){\n                var it = $(ie);\n                var fm = it.data(\"fill-mode\");\n                var vn = base_c+c+\"[\"+vi+\"].\";\n                if (fm == \"list\")\n                    fill_data_list_el(it, base_c+c+\"[\"+vi+\"]\"+\".\");\n                else{\n                    var ic = it.data(\"content\");\n                    var ig = it.data(\"fill-attribute\");   \n                    if(ic.indexOf(\"|\")>=0){ //multiel\n                        var ics = ic.split(\"|\");\n                        var igs = ig.split(\"|\");\n                        for(var ici in ics){\n                            var lvn = vn+ics[ici];\n                            var v = eval(lvn);\n                            if(igs[ici] == \"class\")\n                                it.addClass(v+\"\");\n                            else\n                                it.attr(igs[ici],v);\n                        }\n                    } else {\n                        vn+=ic;\n                        if (debug) console.log(vn);\n                        var v = eval(vn);\n                        if (ig){\n                            if(ig == \"class\")\n                                it.addClass(v+\"\");\n                            else\n                                it.attr(ig,v);\n                        } else {\n                            it.text(v);\n                        } \n                    }\n                }\n            });\n            el.append(f);\n        }\n        if (temp_mode == \"refreshable\"){\n            let ttm = tm.addClass(\"template\");\n            el.append(ttm);\n        }\n    }\n}\n\nfunction fill_data(){\n    $(\".fill-data\").each(function(i,e){\n        var t = $(this);\n        var c = t.data(\"content\");\n        var v = eval(c);\n        var g = t.data(\"fill-attribute\");\n        if (g){\n            if(g == \"class\")\n                t.addClass(v+\"\");\n            else\n                t.attr(g,v);\n        } else {\n            t.text(v);\n        }\n    })\n}\n\nfunction hide_hidables(){\n    $(\".hidable\").each(function(e,i){\n        \n    })\n}\n\n$(function(){\n    setTimeout(fill_data, 500);\n    setTimeout(fill_data_list, 500);\n    setTimeout(statuswidgets, 500);\n});\n"]}